<h2 mat-dialog-title>Mais Opções</h2>

<mat-dialog-content class="min-h-48">
    <div *ngIf="!loading">
        <form [formGroup]="form" *transloco="let t">

            <mat-tab-group [animationDuration]="'0'" mat-align-tabs="center">
                <mat-tab label="Transferir">
                    <div class="flex flex-col overflow-hidden">
                        <div class="grid sm:grid-cols-12 gap-x-6 flex-col flex-auto pb-2 overflow-hidden">
                            <mat-form-field class="fuse-mat-dense sm:col-span-12">
                                <mat-label>{{ t('tecnico') }}</mat-label>
                                <mat-select formControlName="codTecnico">

                                    <mat-option>
                                        <ngx-mat-select-search placeholderLabel="Pesquisa..."
                                            noEntriesFoundLabel="'nenhum registro encontrado'"
                                            [formControl]="tecnicoFilterCtrl">
                                        </ngx-mat-select-search>
                                    </mat-option>

                                    <mat-option class="uppercase"
                                        *ngFor="let usuario of usuarios"
                                        [value]="usuario.codUsuario">
                                        <span>{{ usuario.nomeUsuario }}</span>
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                </mat-tab>

                <mat-tab label="Alterar Status">
                    <div class="flex flex-col overflow-hidden">
                        <div class="grid sm:grid-cols-12 gap-x-6 flex-col flex-auto pb-2 overflow-hidden">
                            <mat-form-field class="fuse-mat-dense sm:col-span-12">
                                <mat-label>{{ t('status') }}</mat-label>
                                <mat-select formControlName="codStatus">
                                    <mat-option class="uppercase" *ngFor="let s of status"
                                        [value]="s.codStatus">
                                        <span>{{ s.descStatus }}</span>
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                </mat-tab>
            </mat-tab-group>

        </form>
    </div>

    <div class="flex justify-center items-center min-h-36" *ngIf="loading">
        <div class="text-center">
            <mat-progress-spinner [diameter]="30" [mode]="'indeterminate'"></mat-progress-spinner>
        </div>
    </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
    <button mat-button mat-dialog-close>Cancelar</button>

    <button mat-button (click)="salvar()" [disabled]="!form?.valid" cdkFocusInitial>Salvar</button>
</mat-dialog-actions>